<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Volume Analysis - MateCat</title>
    <meta name="description" content="MateCat allows you to get more matches than any other CAT tool."/>
    <meta name="viewport" content="width=device-width"/>

    <link rel="stylesheet" href="${basepath}public/css/build/common.css?build=${build_number}" type="text/css"/>
    <link rel="stylesheet" href="${basepath}public/css/analyze_old.css?build=${build_number}"/>
    <link rel="stylesheet" href="${basepath}public/css/libs/jquery.powertip.css?build=${build_number}"/>


    <script type="text/javascript">
        var config = {
            basepath: '${basepath | string:/}',
            status: '${project_status}',
            totalSegments: '${num_segments}',
            totalAnalyzed: '${num_segments_analyzed}',
            daemon_warning: ${daemon_misconfiguration},
            support_mail: '${support_mail}',
            id_project: '${pid}',
            password: '${project_password}',
            split_based_on_raw_word_count : true,
            project_completion_timestamp : ${project_data/project_completion_timestamp | string: null }
        };
    </script>

    <style type="text/css">
        body#analyze .loadingbar {
            position: relative;
            margin-top: 46px;
            top: 0px;
            background: #f4f4f4;
            padding-bottom: 10px;
            padding-left: 2%;
            width: 98%;
            border-bottom: 1px solid #ababac;
        }

        body, .body {
            background: #fff;
        }

        .tablestats td.languages {
            width: 100%
        }

        .wrapper.instructions {
            float: left;
            padding: 1% 4%;
            min-width: initial;
        }

        .instructions-txt p {
            font-size: 16px;
            line-height: 24px;
        }

        .file-info th, .file-info td {
            border-bottom: 1px solid #f4f4f4;
        }

        .file-info th {
            width: 20%;
            font-size: 15px;
        }

        .file-info th {
            width: 20%;
            font-size: 14px;
            padding: 5px 0px;
        }

        .wrapper.instructions {
            width: 90%;
            max-width: 1110px;
        }

        .wrapper.instructions h4 {
            font-size: 20px;
            margin: 20px 0 10px 0;
        }

        .instructions-txt h4 {
            font-size: 26px !important;
        }

        .wrapper.word-count-left {
            background: #f0f0f0;
            padding: 1% 2% 1% 3%;
            border: 1px solid #333;
            border-radius: 4px;
            -moz-box-shadow: 0 0px 6px #888;
            -webkit-box-shadow: 0 0px 6px #888;
        }

        .completion-info {
            position: relative;
        }

        .wrapper.word-count-left {
            float: left;
            position: relative;
            margin-top: 15px;
            display: inline-block;
            max-width: 1080px;
            margin-left: 4%;
        }

        td.empty.undoCompleteBtnContainer {
            width: 165px !important;
            display: inline-block;
        }

        span.job-undoComplete-label {
            color: #666;
            line-height: 30px;
            font-size: 14px;
            float: left;
            margin-left: 15px;
        }

        td.empty.undoCompleteBtnContainer.completed {
            width: 313px !important;
            display: inline-block;
        }

        a.standardbtn.undoCompleteBtn {
            float: left;
            margin-left: 0px !important;
        }
        .undoCompleteBtn.disabled {
            pointer-events: none;
        }

        span.job-completed-label {
            color: #666;
            font-size: 14px;
            height: 33px;
            line-height: 21px;
            text-align: left;
            float: right;
            max-width: 150px;
            margin-top: -5px;
        }

        .stat-email-revise,
        .stat-email-translate  {
            min-width: 180px;
            text-align: left !important;
            position: relative;
        }

        .stat-email-revise .stat-email,
        .stat-email-translate .stat-email {
            font-size: 15px;
            text-align: left;
            max-width: 150px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .ui.cancel.label {
            padding: 4px;
            margin-top: 3px;
            border-radius: 15px;
            line-height: 0px;
            width: 10px;
            height: 10px;
            position: absolute;
            top: 4px;
            font-size: 17px;
            right: 8px;
            color: #989898;
            cursor: pointer;
        }

        .ui.cancel.label:hover {
            color: #6d6d6d;
        }


    </style>

    <script type="text/javascript" src="${basepath}public/js/build/libs.js?build=${build_number}"></script>

    <script type="text/javascript" src="${basepath}public/js/forcedelivery.js"></script>
    <script type="text/javascript" src="${basepath}public/js/build/common.js?build=${build_number}"></script>
    <script type="text/javascript" src="${basepath}public/js/analyze_old.js?build=${build_number}"></script>
    <!--<script type="text/javascript" src="${basepath}public/js/outsource.js?build=${build_number}"></script>-->

    <script src="${basepath}public/js/build/react.js?build=${build_number}"></script>
    <script src="${basepath}public/js/build/cat-react.js?build=${build_number}"></script>

    <div metal:use-macro="${php: INIT::$ROOT}/public/holidays/holidays.html/analyze_holidays"/>

</head>


<body id="analyze">

<header>
    <div class="wrapper">
        <div class="logo-menu">
            <a href="${basepath}" class="logo">
            </a>
        </div> <!-- .logo-menu -->

        <div class="header-el-placeholder"></div>
        <div class="header-el-placeholder"></div>
        <div class="header-el-placeholder"></div>

        <div class="profile-menu">
            <div class="column-separator"></div>
            <div tal:condition="isLoggedIn">
                <a href="/manage" id="action-manage">
                    <svg width="36px" height="36px" viewBox="0 0 42 42" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <defs>
                            <polygon id="path-1" points="0 -0.0002 21 -0.0002 21 21 0 21"/>
                            <polygon id="path-3" points="0 0.323 3.9997 0.323 3.9997 4.3226 0 4.3226"/>
                            <polygon id="path-5" points="0 0.1166 3.9997 0.1166 3.9997 4.1166 0 4.1166"/>
                            <polygon id="path-7" points="0 0.0004 3.9997 0.0004 3.9997 4.0004 0 4.0004"/>
                        </defs>
                        <g id="icon-manage" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="Group-19" transform="translate(2.000000, 9.000000)">
                                <path d="M22.5,9.7771 C22.5,9.1771 22.1,8.7771 21.5,8.7771 L9,8.7771 C8.4,8.7771 8,9.1771 8,9.7771 C8,10.3771 8.4,10.7771 9,10.7771 L21.5,10.7771 C22.1,10.7771 22.5,10.3771 22.5,9.7771" id="Fill-1" fill="#FFFFFF"/>
                                <path d="M9,3.6775 L23,3.6775 C23.6,3.6775 24,3.2775 24,2.6775 C24,2.0765 23.6,1.6775 23,1.6775 L9,1.6775 C8.4,1.6775 8,2.0765 8,2.6775 C8,3.2775 8.4,3.6775 9,3.6775" id="Fill-3" fill="#FFFFFF"/>
                                <path d="M9,15.6775 C8.4,15.6775 8,16.0765 8,16.6775 C8,17.2775 8.4,17.6775 9,17.6775 L15,17.6775 C15.6,17.6775 16,17.2775 16,16.6775 C16,16.0765 15.6,15.6775 15,15.6775 L9,15.6775 Z" id="Fill-5" fill="#FFFFFF"/>
                                <g id="Group-9" transform="translate(17.000000, 2.677100)">
                                    <mask id="mask-2" fill="white">
                                        <use xlink:href="#path-1"></use>
                                    </mask>
                                    <g id="Clip-8"></g>
                                    <path d="M2,17.3998 L17,2.3998 L18.6,4.0008 L3.6,19.0008 L2,19.0008 L2,17.3998 Z M1,21.0008 L4,21.0008 C4.3,21.0008 4.5,20.8998 4.7,20.6998 L20.7,4.6998 C21.1,4.2998 21.1,3.6998 20.7,3.2998 L17.7,0.2998 C17.3,-0.1002 16.7,-0.1002 16.3,0.2998 L0.3,16.2998 C0.1,16.5008 0,16.6998 0,17.0008 L0,20.0008 C0,20.5998 0.4,21.0008 1,21.0008 L1,21.0008 Z" id="Fill-7" fill="#FFFFFF" mask="url(#mask-2)"></path>
                                </g>
                                <g id="Group-12" transform="translate(0.000000, 0.677100)">
                                    <mask id="mask-4" fill="white">
                                        <use xlink:href="#path-3"></use>
                                    </mask>
                                    <g id="Clip-11"></g>
                                    <path d="M1.0347,4.3226 L2.9657,4.3226 C3.5367,4.3226 3.9997,3.8596 3.9997,3.2886 L3.9997,1.3576 C3.9997,0.7856 3.5367,0.3226 2.9657,0.3226 L1.0347,0.3226 C0.4637,0.3226 -0.0003,0.7856 -0.0003,1.3576 L-0.0003,3.2886 C-0.0003,3.8596 0.4637,4.3226 1.0347,4.3226" id="Fill-10" fill="#FFFFFF" mask="url(#mask-4)"></path>
                                </g>
                                <g id="Group-15" transform="translate(0.000000, 7.677100)">
                                    <mask id="mask-6" fill="white">
                                        <use xlink:href="#path-5"></use>
                                    </mask>
                                    <g id="Clip-14"></g>
                                    <path d="M1.0347,4.1166 L2.9657,4.1166 C3.5367,4.1166 3.9997,3.6536 3.9997,3.0826 L3.9997,1.1506 C3.9997,0.5796 3.5367,0.1166 2.9657,0.1166 L1.0347,0.1166 C0.4637,0.1166 -0.0003,0.5796 -0.0003,1.1506 L-0.0003,3.0826 C-0.0003,3.6536 0.4637,4.1166 1.0347,4.1166" id="Fill-13" fill="#FFFFFF" mask="url(#mask-6)"></path>
                                </g>
                                <g id="Group-18" transform="translate(0.000000, 14.677100)">
                                    <mask id="mask-8" fill="white">
                                        <use xlink:href="#path-7"></use>
                                    </mask>
                                    <g id="Clip-17"></g>
                                    <path d="M1.0347,4.0004 L2.9657,4.0004 C3.5367,4.0004 3.9997,3.5364 3.9997,2.9654 L3.9997,1.0344 C3.9997,0.4634 3.5367,0.0004 2.9657,0.0004 L1.0347,0.0004 C0.4637,0.0004 -0.0003,0.4634 -0.0003,1.0344 L-0.0003,2.9654 C-0.0003,3.5364 0.4637,4.0004 1.0347,4.0004" id="Fill-16" fill="#FFFFFF" mask="url(#mask-8)"></path>
                                </g>
                            </g>
                        </g>
                    </svg>
                </a>
            </div>
            <div metal:use-macro="${php: INIT::$TEMPLATE_ROOT}/common.html/login_includes" />
        </div> <!-- .profile-menu -->
    </div>
</header>


<div class="body">

    <div class="loadingbar open start">

        <div class="wrapper" id="shortloading">
            <p class="label">Fast word counting...</p>

        </div>

        <div class="cl"></div>

        <div class="wrapper" id="longloading">
            <p>Searching for TM matches
                <span class="detailss">(<span id="analyzedSegmentsReport">0</span> of <span id="totalSegmentsReport">0</span> segments)...</span>
            </p>

            <div class="meter">
                <a href="#" class="approved-bar" title="Analyzing 0.0%"></a>
                <a href="#" id="close">close</a>
            </div>

        </div>
    </div>




    <div class="wrapper instructions">

        <div class="instructions-txt">
            <h4>Instructions</h4>

            <p tal:content="project_data/instructions">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum ac diam sit amet quam vehicula elementum
                sed sit amet dui. Proin eget tortor risus. Sed porttitor lectus nibh. Vivamus magna justo, lacinia eget cons
                ectetur sed, convallis at tellus. Curabitur arcu erat, accumsan id imperdiet et, porttitor at sem. Vestibulum a
                c diam sit amet quam vehicula elementum sed sit amet dui. Vestibulum ante ipsum primis in faucibus orci luctus et
                ultrices posuere cubilia Curae; Donec velit neque, auctor sit amet aliquam vel,
                ullamcorper sit amet ligula. Donec sollicitudin molestie malesuada. Proin eget tortor risus.
            </p>
        </div>

        <div class="project-data">
            <h4>File details</h4>
            <table class="file-info">
                <tr>
                    <th>File name</th>
                    <td tal:content="project_data/file_name"></td>
                </tr>
                <tr>
                    <th>Due date</th>
                    <td tal:content="project_data/due_date"></td>
                </tr>

            </table>
        </div>

        <tal:block tal:condition="php: !empty(reference_files)">
            <h4>Reference files</h4>

            <ul>
                <li tal:repeat="file reference_files" >
                    <a tal:attributes="href string:${basepath}plugins/ebay/reference-files/${pid}/${project_password}/${file/index}"  tal:content="file/name"></a>
                </li>
            </ul>

        </tal:block>

        <div tal:condition="dqf_enabled" class="dqf-info">
            <h4> DQF Status </h4>

            <div tal:condition="not: project_data/dqf_master_project_creation_completed_at" style="color:white; background-color: brown; padding:10px" >
                <div class="tm-warning">
                    <p>
                        There was an error during project creation to DQF. Please try to reload this page.
                        If the problem persists try to create the project again or contact <a href="mailto:support@matecat.com" style="color:white">support@matecat.com</a>.
                    </p>
                </div>
            </div>

            <div tal:condition="project_data/dqf_master_project_creation_completed_at">
                <div tal:condition="not: dqf_intermediate_project">
                <p>
                    A DQF project linked to your account was not created yet. You must create a DQF project before this project can be accessed.
                </p>

                <tal:block tal:condition="exists: dqf_user">

                    <tal:block tal:condition="dqf_user/hasCredentials">
                        <p>
                            <a href="javascript:void(0);" class="bluebtn" id="createIntermediateProjectButton" onclick="createDqfProject();">Create DQF project</a>
                            <div class="loader loader_on"/>
                        </p>
                        <p>
                            This will create a DQF project owned by DQF user <strong><span tal:content="dqf_user/getDqfUsernameOrMateCatEmail"></span></strong>.
                        </p>
                    </tal:block>

                    <tal:block tal:condition="not: dqf_user/hasCredentials">
                        <p>
                            You don't have valid DQF credentials on your profile. MateCat will create DQF projects associated to your
                            current email <span tal:content="dqf_user/getDqfUsernameOrMateCatEmail"></span>.
                        </p>
                        <p>
                            You will be able to view this project's data in DQF if you sign in using the same email address.
                        </p>
                        <p>
                            <a href="javascript:void(0);" class="bluebtn" id="createIntermediateProjectButton" onclick="createDqfProject();">Create DQF project</a>
                            <div class="loader loader_on"></div>
                        </p>
                        <!--
                        <a href="javascript:void(0);" class="bluebtn" onclick="$('#modal').trigger('openpreferences');">Add DQF credentials</a>
                        -->
                    </tal:block>
                </tal:block>

                <span tal:condition="not: user">
                    To Create a DQF project you must be signed in.
                    <a href="javascript:void(0);" class="bluebtn" onclick="$('#modal').trigger('openlogin');">Sign in</a>
                </span>
                </div>
            </div>



            <div tal:condition="dqf_intermediate_project">
                <p>Dqf project was successfully created.</p>
            </div>

        </div>


        <tal:block tal:condition="project_completable">
            <div class="completion-info">
                <h4> Completion </h4>
                <div>
                    <p class="completableStatus"></p>

                    <a href="#" class="standardbtn disabled completeProjectButton" style="float:unset;" >Complete project</a>
                </div>
            </div>
        </tal:block>

    </div>

    <div tal:condition="splittable" class="wrapper word-count-left">
        <tal:block tal:define="id_for_job php:array()" tal:repeat="id_for_job jobs">

            <div tal:attributes="data-jid string:${repeat/id_for_job/key}; class string:jobcontainer ${id_for_job/splitted}">
                <div tal:define="splitted id_for_job/splitted">

                    <h3>
                        <span class="source_lang" tal:content="id_for_job/source">English</span> &gt; <span class="target_lang" tal:content="id_for_job/target">Italian</span>
                    </h3>

                    <div class="splitbtn-cont pull-right">
                        <span class="splitmsg">Splitted in 2 parts</span>
                        <span class="label left">Split in</span>
                        <select name="" class="splitselect">
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                            <option value="25">25</option>
                            <option value="26">26</option>
                            <option value="27">27</option>
                            <option value="28">28</option>
                            <option value="29">29</option>
                            <option value="30">30</option>
                        </select>
                        <span class="label left">Jobs</span>

                        <a href="#" class="dosplit splitbtn disabled" title="You cannot split a job with 1 or 0 payable words.">Split</a>

                    </div>
                    <div class="nosplit"><a href="#" class="domerge mergebtn" >Merge all</a></div>
                    <!-- END CONTAINER SPLIT JOBS BUTTONS  -->


                    <div metal:use-macro="analyze_partials.html/tablestats"/>


                </div>
            </div>

        </tal:block>


    </div>
    <div class="cl"></div>
</div>


<div class="modal popup-split" data-type="view">
    <div class="popup-outer"></div>
    <div class="popup">
        <a href="#" class="x-popup"></a>

        <h1>Split <span class="jid" data-jid="">Job</span><span class="chunks" style="display: none;">x</span></h1>
        <div class="splitbtn-cont">
            <h2 class="popup-split-project-title"> Job Lang </h2>
            <h3><span class="popup-split-job-id"></span><span class="popup-split-job-title"> Job Lang </span></h3>
            <span class="label left">Split in</span>
            <select name="popup-splitselect" class="splitselect left">
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
                <option value="16">16</option>
                <option value="17">17</option>
                <option value="18">18</option>
                <option value="19">19</option>
                <option value="20">20</option>
                <option value="21">21</option>
                <option value="22">22</option>
                <option value="23">23</option>
                <option value="24">24</option>
                <option value="25">25</option>
                <option value="26">26</option>
                <option value="27">27</option>
                <option value="28">28</option>
                <option value="29">29</option>
                <option value="30">30</option>
                <option value="31">31</option>
                <option value="32">32</option>
                <option value="33">33</option>
                <option value="34">34</option>
                <option value="35">35</option>
                <option value="36">36</option>
                <option value="37">37</option>
                <option value="38">38</option>
                <option value="39">39</option>
                <option value="40">40</option>
                <option value="41">41</option>
                <option value="42">42</option>
                <option value="43">43</option>
                <option value="44">44</option>
                <option value="45">45</option>
                <option value="46">46</option>
                <option value="47">47</option>
                <option value="48">48</option>
                <option value="49">49</option>
                <option value="50">50</option>
            </select>
            <span class="label left">Jobs</span>
        </div>
        <div class="popup-box split-box3">
            <ul class="jobs">
                <li>
                    <div><h4>Part 1</h4></div>

                    <div class="job-details">
                        <div class="job-perc"><p><span class="aprox">Approx. words:</span><span class="correct none">Words:</span>
                        </p>
                            <!-- A: la classe Aprox scompare se viene effettuato il calcolo -->
                            <input type="text" class="input-small" value="50.000"/>
                        </div>
                    </div>
                </li>
                <li>
                    <div><h4>Part 2</h4></div>
                    <div class="job-details">
                        <div class="job-perc"><p><span class="aprox">Approx. words:</span><span class="correct none">Words:</span>
                        </p>
                            <!-- A: la classe Aprox scompare se viene effettuato il calcolo -->
                            <input type="text" class="input-small" value="50.000"/>
                        </div>
                    </div>
                </li>
            </ul>
            <div class="total">
                <p class="wordsum">Total words: <span class="total-w">x</span></p>

                <p class="error-count current">Current count: <span class="curr-w">x</span></p>

                <p class="error-count"><span class="txt">Difference</span>: <span class="diff-w">x</span></p>
                <!-- A:  il p error appare solo se i valori inseriti negli input dei singoli split job non restituiscono la somma totale -->
            </div>
            <div class="error-message none">
                <p>Cannot split in # chunks, do this</p>
            </div>
            <div class="cl"></div>
            <div class="btnsplit">

                <a id="exec-split" class="uploadbtn loader">
                    <span class="uploadloader"></span>
                    <span class="text">Check</span>
                </a>
                <a id="exec-split-confirm" class="splitbtn done none">
                    <span class="text">Confirm</span>
                </a>
                <span class="btn fileinput-button btn-cancel right">
                    <span>Cancel</span>
                </span>
            </div>
        </div>
        <!-- END DIV SPLIT BOX -->
    </div>
    <!-- END DIV POPUP-SPLIT INTERNO -->
</div>
<!-- END DIV POPUP-SPLIT -->

<div class="notifications-wrapper"></div>
<!--<footer>
    <div class="wrapper">

        <nav>
            <ul>
                <li><a tal:attributes="href string:${basepath}manage/">Manage</a></li>
                <li><a href="https://www.matecat.com/support/" target="_blank">Support</a></li>
            </ul>

        </nav>

    </div>
</footer>-->

<script>
    $(".deliverychange").click(function() {
        $(this).hide();
        $("#changeTimezone").removeClass("noselect");
    });
    $(".currencychange").click(function() {
        $(this).hide();
        $("#changecurrency").show();
    });
</script>
<!-- FINE POPUP LOGIN -->
<div metal:use-macro="${php: INIT::$TEMPLATE_ROOT}/cookiebanner.html/cookieBanner"/>

<div metal:use-macro="${php: INIT::$TEMPLATE_ROOT}/external_sources.html/track_codes_analyze"/>


<div metal:use-macro="${php: INIT::$TEMPLATE_ROOT}/common.html/footer_includes" />
</body>
</html>
